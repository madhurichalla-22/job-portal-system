<!DOCTYPE html>
<html>
<head>
    <title>Employer Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<div id="navbar"></div>
<div class="container">
    <h2>Employer Dashboard</h2>

    <button onclick="openPostJob()">Post Job</button>
    <button onclick="loadMyJobs()">My Jobs</button>

    <div id="jobs"></div>
</div>

<script>

function openPostJob(){
    window.location="post-job.html";
}
async function loadMyJobs(){

    const employerId = localStorage.getItem("employerId");

    const res = await fetch(
        `http://localhost:8131/job/employer/${employerId}`
    );

    const jobs = await res.json();

    let html="";

    jobs.forEach(job=>{
        html += `
            <div>
                <h3>${job.title}</h3>
                <p>${job.description}</p>
            </div>
        `;
    });

    document.getElementById("jobs").innerHTML = html;
}
</script>

</body>

</html>